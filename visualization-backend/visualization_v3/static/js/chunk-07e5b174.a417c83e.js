(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07e5b174","chunk-333708df"],{"17d4":function(e,t,a){"use strict";var s=a("3ba0"),l=a.n(s);l.a},2017:function(e,t,a){"use strict";var s=a("3b76"),l=a.n(s);l.a},"3b76":function(e,t,a){},"3ba0":function(e,t,a){},"4b16":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-card",{staticClass:"box-card",attrs:{shadow:"always","body-style":{"margin-right":"0px"}}},[a("el-col",{attrs:{span:16}},[a("el-form",{ref:"infoform",attrs:{inline:!0,model:e.query_dict,rules:e.rules,"label-width":"80px","label-position":"left"}},[a("el-row",[a("el-form-item",{attrs:{label:"癌种",prop:"mode"}},[a("el-select",{attrs:{placeholder:"请选择癌种",change:"Handleselected"},model:{value:e.query_dict.mode,callback:function(t){e.$set(e.query_dict,"mode",t)},expression:"query_dict.mode"}},[a("el-option",{attrs:{label:"实体瘤",value:"solidtumor"}}),e._v(" "),a("el-option",{attrs:{label:"血液病",value:"leukemia"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"期号",prop:"batch"}},[a("el-input",{model:{value:e.query_dict.batch,callback:function(t){e.$set(e.query_dict,"batch","string"===typeof t?t.trim():t)},expression:"query_dict.batch"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"样本名",prop:"sample"}},[a("el-input",{model:{value:e.query_dict.sample,callback:function(t){e.$set(e.query_dict,"sample","string"===typeof t?t.trim():t)},expression:"query_dict.sample"}})],1)],1)],1),e._v(" "),"solidtumor"===e.query_dict.mode?a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[e._l(e.query_dict.HGVSarray,function(t,s){return a("el-form-item",{key:t.key,attrs:{label:"HGVS"+s,prop:"query_dict.HGVSarray."+s+".value"}},[a("el-input",{staticClass:"input_inline",attrs:{placeholder:"输入完整的HGVS, 不能重复"},model:{value:t.value,callback:function(a){e.$set(t,"value","string"===typeof a?a.trim():a)},expression:"hgvs.value"}}),e._v(" "),a("i",{staticClass:"el-icon-circle-plus-outline button_inline",attrs:{type:"success"},on:{click:function(t){return t.preventDefault(),e.addHGVS(t)}}}),e._v(" "),a("i",{staticClass:"el-icon-remove-outline button_inline",attrs:{type:"danger"},on:{click:function(a){return a.preventDefault(),e.removeHGVS(t)}}})],1)}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.validateHGVS}},[e._v("校验HGVS")]),e._v(" "),a("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.validateflag},on:{click:e.onSubmit}},[e._v("提交查询")])],1)],2):e._e(),e._v(" "),"leukemia"===e.query_dict.mode?a("el-form",{ref:"optionform",attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"上传excel"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"api/trans/test/","on-change":e.handleChange,"file-list":e.fileList,"on-success":e.handleSuccess,"auto-upload":!1,limit:1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传.xls格式文件，且不超过500kb")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"可选项"}},[a("el-switch",{staticStyle:{"margin-left":"10px"},attrs:{"active-text":"输出bam"},model:{value:e.query_dict.outbam,callback:function(t){e.$set(e.query_dict,"outbam",t)},expression:"query_dict.outbam"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交查询")]),e._v(" "),a("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("optionform")}}},[e._v("重置")])],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("div",{staticClass:"divided"})]),e._v(" "),a("el-col",{attrs:{span:7}},[a("document")],1)],1)],1),e._v(" "),e._l(e.labelData,function(t,s){return[a("el-card",{staticStyle:{"margin-top":"20px"}},[a("Ttable",{directives:[{name:"loading",rawName:"v-loading",value:e.query_loading,expression:"query_loading"}],attrs:{labelData:t,tableData:e.tableData[s],bamfile:e.bamfiles[s],"element-loading-text":"正在查询..."}})],1)]})],2)},l=[],i=a("0a0d"),o=a.n(i),n=a("b775");function r(e){return Object(n["a"])({url:"/api/trans/get_trans_cis/",method:"POST",data:e})}function c(e){return Object(n["a"])({url:"/api/trans/validateHGVS/",method:"POST",data:e})}var u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appcontainer"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[e._l(e.labelData,function(e){return a("el-table-column",{key:e.id,attrs:{prop:e.prop,label:e.label}})}),e._v(" "),a("el-table-column",[a("template",{slot:"header"},[a("el-button",[a("a",{attrs:{href:e.bamfile}},[e._v(" 点击下载 ")])])],1)],2)],2)],1)},d=[],p={props:{tableData:Array,labelData:Array,bamfile:String}},m=p,f=a("2877"),v=Object(f["a"])(m,u,d,!1,null,null,null),b=v.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card",attrs:{"body-style":{"border-left":"double"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("使用帮助")])]),e._v(" "),a("el-collapse",{model:{value:e.document,callback:function(t){e.document=t},expression:"document"}},[a("el-collapse-item",{attrs:{title:"Excel文件处理",name:"1"}},[a("el-alert",{attrs:{type:"sucess",description:e.document.excel[0],closable:!1,"show-icon":""}}),e._v(" "),a("el-alert",{attrs:{type:"sucess",description:e.document.excel[1],closable:!1,"show-icon":""}})],1),e._v(" "),a("el-collapse-item",{attrs:{title:"Bam文件",name:"2"}},[a("el-alert",{attrs:{title:"",type:"sucess",description:e.document.bam[0],"show-icon":""}})],1),e._v(" "),a("el-collapse-item",{attrs:{title:"结果说明",name:"3"}},[a("el-alert",{attrs:{title:"",type:"sucess",description:e.document.result[0],"show-icon":""}})],1)],1)],1)},_=[],h={data:function(){return{document:{bam:["输出的Bam文件包含比对到当前突变分组左右各50bp范围内的read"],excel:["上传的excel文件命名不能包含中文命名, 文件后缀为xls","Excel文件中可包含多个染色体的突变, 但必须将突变按染色体和物理位置进行分类和排序，如果一个突变与左右相邻的突变的距离大于150，则将这个突变排除"],result:["ref代表突变参考型，ALT代表突变型, 表格的每一行代表突变的组合，read列代表支持这类组合的read数，最后一列代表read数占总数的比例，即频率"]}}}},y=h,w=Object(f["a"])(y,g,_,!1,null,null,null),k=w.exports,x=(a("9ed6"),a("56b3"),{data:function(){return{query_dict:{batch:"",sample:"",file:"",visualization:!1,outbam:!1,mode:"",HGVSarray:[{value:""}]},rules:{batch:[{required:!0,message:"请输入样本期号",trigger:"blur"}],sample:[{required:!0,message:"请输入样本名，如HDXXXX",trigger:"blur"}],mode:[{required:!0,message:"请选择癌种"}]},query_loading:!1,file_submit:!1,fileList:[],validateflag:!0,labelData:{},tableData:{},bamfiles:{}}},components:{Ttable:b,document:k},methods:{Handleselected:function(e){console.log(e)},addHGVS:function(){this.query_dict.HGVSarray.push({value:"",key:o()()})},removeHGVS:function(e){var t=this.query_dict.HGVSarray.indexOf(e);-1!==t&&this.query_dict.HGVSarray.splice(t,1)},validateHGVS:function(){var e=this;c(this.query_dict).then(function(t){e.updateBatchInfo(t),e.$message({message:"校验成功"}),e.validateflag=!1,console.log(t),console.log(e.query_dict)}).catch(function(t){console.log(t),e.$message({message:t.response.WARN})})},resetForm:function(e){this.$refs[e].resetFields()},onSubmit:function(e){var t=this;console.log(this.query_dict),this.query_loading=!0,this.$message({message:"提交成功, 正在查询...",type:"success",showClose:"true"}),r(this.query_dict).then(function(e){t.tableData=e["result"],t.bamfiles=e["bamfiles"],console.log("bamfile",t.bamfiles),t.$nextTick(function(){t.tableData=t.tableData}),t.query_loading=!1}).catch(function(){t.query_loading=!1,t.$message({type:"error",message:"查询错误，请检查输入..."}),console.log("trans_cis false")})},handleChange:function(e,t){console.log(e)},submitUpload:function(){console.log(this.fileList),this.$refs.upload.submit(),console.log("submit file!")},handleSuccess:function(e){console.log("submit sucess!"),this.updateBatchInfo(e),this.file_submit=!0,console.log(this.labelData)},handleRemove:function(e,t){console.log(e,t)},updateBatchInfo:function(e){for(var t in e)switch(console.log(t),t){case"label_data":this.labelData=e["label_data"];default:this.query_dict[t]=e[t]}}}}),q=x,$=(a("17d4"),Object(f["a"])(q,s,l,!1,null,"1abf2a56",null));t["default"]=$.exports},"9ed6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v("\n        "+e._s(e.$t("login.title"))+"\n      ")]),e._v(" "),a("lang-select",{staticClass:"set-language"})],1),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),a("el-input",{ref:"username",attrs:{placeholder:e.$t("login.username"),name:"username",type:"text","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:e.$t("login.password"),name:"password","auto-complete":"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),e._v(" "),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("\n      "+e._s(e.$t("login.logIn"))+"\n    ")]),e._v(" "),a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"tips"},[a("span",[e._v(e._s(e.$t("login.username"))+" : admin")]),e._v(" "),a("span",[e._v(e._s(e.$t("login.password"))+" : "+e._s(e.$t("login.any")))])]),e._v(" "),a("div",{staticClass:"tips"},[a("span",{staticStyle:{"margin-right":"18px"}},[e._v("\n          "+e._s(e.$t("login.username"))+" : editor\n        ")]),e._v(" "),a("span",[e._v(e._s(e.$t("login.password"))+" : "+e._s(e.$t("login.any")))])])])],1)],1)},l=[],i=a("61f7"),o=a("1131"),n={name:"Login",components:{LangSelect:o["a"]},data:function(){var e=function(e,t,a){Object(i["d"])(t)?a():a(new Error("Please enter the correct user name"))},t=function(e,t,a){t.length<6?a(new Error("The password can not be less than 6 digits")):a()};return{loginForm:{username:"admin",password:"111111"},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,a=e.key;a&&1===a.length&&(this.capsTooltip=!!(t&&a>="a"&&a<="z"||!t&&a>="A"&&a<="Z")),"CapsLock"===a&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(function(){e.$refs.password.focus()})},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then(function(){e.$router.push({path:e.redirect||"/"}),e.loading=!1}).catch(function(){e.loading=!1})})}}},r=n,c=(a("2017"),a("efe0"),a("2877")),u=Object(c["a"])(r,s,l,!1,null,"c48700a2",null);t["default"]=u.exports},e49a:function(e,t,a){},efe0:function(e,t,a){"use strict";var s=a("e49a"),l=a.n(s);l.a}}]);